<ui:composition template="/resources/template.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:b="http://bootsfaces.net/ui" xmlns:p="http://primefaces.org/ui">

	<ui:define name="content">
		<b:well size="sm">
			<h3>Athleten</h3>
		</b:well>
		<h:form id="athletesoverview">

			<p:dataTable id="athleteslist" var="athlete" widgetVar="athletes"
				value="#{athleteController.athletes}" sortBy="#{athlete.lastName}"
				rowIndexVar="rowIndex" rowKey="#{athlete.id}"
				styleClass="athletesListPseudoClass"
				emptyMessage="Keine Einträge vorhanden" reflow="true">
				<f:facet name="header">
					<b:panelGrid colSpans="10,2">
						<b:inputText id="globalFilter" onkeyup="PF('athletes').filter()">
							<f:facet name="append">
								<b:icon name="search" />
							</f:facet>
						</b:inputText>
						<b:commandButton id="addAthlete" value="Neuer Athlet"
							iconAwesome="plus"
							onclick="$('.newAthletePseudoClass').modal();return false;" />
					</b:panelGrid>
				</f:facet>
				<p:column filterBy="#{athlete.firstName}" filterStyle="display:none" headerText="Vorname">

					<h:outputText value="#{athlete.firstName}" />
					<p:tooltip
						for="@(.athletesListPseudoClass tr[role=row][data-ri=#{rowIndex}])"
						value="#{athlete.composeSummary()}" showDelay="400" showEffect="clip" hideEffect="explode"/>
				</p:column>
				<p:column headerText="Nachname" filterBy="#{athlete.lastName}" filterStyle="display:none">
					<h:outputText value="#{athlete.lastName}" />
				</p:column>
				<p:column headerText="Jahrgang" priority="1">
					<h:outputText value="#{athlete.yearOfBirth}"
						title="#{athlete.yearOfBirth}" />
				</p:column>
				<p:column headerText="Verein" filterBy="#{athlete.club}"
					filterStyle="display:none">
					<h:outputText value="#{athlete.club}" />
				</p:column>
				<p:column>
					<ul class="list-inline">
						<li><p:commandLink event="onclick"
								actionListener="#{athleteController.removeAthlete(athlete)}"
								update="athleteslist growl" title="Löschen">
								<b:iconAwesome size="lg" name="trash"  />
							</p:commandLink></li>
							<li><p:selectBooleanCheckbox disabled="true" value="#{athleteController.isParticipant(athlete)}"></p:selectBooleanCheckbox></li>
					</ul>
				</p:column>
			</p:dataTable>
		</h:form>
	</ui:define>
</ui:composition>
